---
layout: post
title: flutteråŸºæœ¬å­¦ä¹ 
categories: [blog]
tags: [flutter]
description: flutteråŸºæœ¬å­¦ä¹ 
---

## å®‰è£… Flutter
```
git clone -b stable https://github.com/flutter/flutter.git
```
æ£€æµ‹ Flutter ç¯å¢ƒ
```
flutter doctor
```
åˆ›å»º Flutter å·¥ç¨‹
```
flutter create myapp
```
åˆ—å‡ºæ¨¡æ‹Ÿå™¨
```
flutter emulators
```
å¯åŠ¨ä¸€ä¸ªAndroid æ¨¡æ‹Ÿå™¨
```
flutter emulators --launch Nexus_5X_9.0
```
åˆ—å‡ºå½“å‰å¼€å¯çš„æ¨¡æ‹Ÿå™¨è®¾å¤‡
```
flutter devices
# æ˜¾ç¤ºå¯¹åº”çš„äºŒä¸ªæ¨¡æ‹Ÿå™¨è®¾å¤‡
3 connected devices:
Android SDK built for x86 â€¢ emulator-5554 â€¢ android-x86 â€¢ Android 9 (API 28) (emulator)
iPhone X â€¢ 67ADA545-4FC6-458D-AE43-CC6CAF013A6B â€¢ ios â€¢ iOS 12.1 (simulator)
```
æŒ‡å®šè®¾å¤‡è®¾å¤‡è¿è¡Œæ¨¡æ‹Ÿå™¨
```
flutter run -d emulator-5554
```
Flutter run key commands.

>r Hot reload. ğŸ”¥ğŸ”¥ğŸ”¥
>R Hot restart.
>h List all available interactive commands.
>d Detach (terminate "flutter run" but leave application running).
>c Clear the screen
>q Quit (terminate the application on the device).

å…³äºFlutteræŠ¥Cannot run with sound null safetyçš„è§£å†³æ–¹æ³•
flutter sdk ç‰ˆæœ¬å‡çº§åˆ°2.0æˆ–è€…æ›´é«˜çš„ç‰ˆæœ¬åï¼Œè¿è¡Œä¹‹å‰çš„ä»£ç ä¼šæŠ¥é”™ï¼Œæ¯”å¦‚ï¼š
```
Error: Cannot run with sound null safety, because the following dependencies
don't support null safety:

 - package:flutter_swiper
 - package:flutter_page_indicator
 - package:transformer_page_view

For solutions, see https://dart.dev/go/unsound-null-safety
FAILURE: Build failed with an exception.
```
ä¸Šé¢çš„é—®é¢˜æ˜¯ï¼Œè¿™äº›åŒ…ä¸æ”¯æŒ safetyæ¨¡å¼ã€‚æˆ‘ä»¬å¯ä»¥åœ¨è¿è¡Œçš„æ—¶å€™æ·»åŠ --no-sound-null-safety
```
flutter run -d emulator-5554 --no-sound-null-safety
```
## flutter å®‰è£…é—®é¢˜ (macbook pro m1)

1.è·å– [Flutter SDK](https://flutter.cn/docs/development/tools/sdk/releases)
2.å°†æ–‡ä»¶è§£å‹åˆ°ç›®æ ‡è·¯å¾„, æ¯”å¦‚:
```
cd ~/development
unzip ~/Downloads/flutter_macos_2.8.1-stable.zip
```
3.é…ç½® flutter çš„ PATH ç¯å¢ƒå˜é‡ï¼Œmacä¸‹zshrcå’Œbash_profileé…ç½® vim ~/.zshrc source ~/.zshrcç”Ÿæ•ˆ
```
export FLUTTER_HOME=/Usr/flutter // è§£å‹çš„æ–‡ä»¶è·¯å¾„
export PATH=$PATH:$FLUTTER_HOME/bin
```
4.æ‰§è¡Œ flutter doctoræœ‰å¯èƒ½ä¼šå‡ºç°ä¸‹é¢é—®é¢˜

```
[!] Xcode - develop for iOS and macOS (Xcode 13.2.1)
    âœ— CocoaPods not installed.

sudo xcode-select --switch /Applications/Xcode.app/Contents/Developer
sudo xcodebuild -license
sudo gem install cocoapods


[!] Flutter (Channel stable, 2.8.1, on macOS 11.4 20F71 darwin-arm, locale zh-Hans-CN)
    âœ— Downloaded executables cannot execute on host.
      See https://github.com/flutter/flutter/issues/6207 for more information
```
éœ€è¦ rm -rf ~/flutter/bin/cache ç¼“å­˜ å†æ‰§è¡Œ flutter doctor
```
[!] Android toolchain - develop for Android devices (Android SDK version 31.0.0)
    âœ— cmdline-tools component is missing
```
æ‰§è¡Œflutter doctor --android-licenseså¦‚æœå‡ºç°
```
> Android sdkmanager not found. Update to the latest Android SDK and ensure that the cmdline-tools are
```
è§£å†³æ–¹æ³•ï¼šAppearance Behavior=>System Settings=>Android SDK=>SDK Tools åˆ—è¡¨ä¸­é€‰ä¸­Android SDK Command-line Tools ( latest ) ä¸‹è½½
```
Warning: Mapping new ns http://schemas.android.com/repository/android/common/02 to old ns http://sch
```
è§£å†³æ–¹å¼ï¼šåœ¨é¡¹ç›®çš„ä¸¤ä¸ªä½ç½®æ›´æ–°äº† Gradleï¼š
android/build.gradle
```
buildscript {
    repositories {
        google()
        mavenCentral()
    }

    dependencies {
        classpath 'com.android.tools.build:gradle:7.0.2' // Update this line
        ...
    }
}
```
æ³¨æ„ï¼šGradle 7.0.2 æ˜¯ç›®å‰ Google Maven å­˜å‚¨åº“ä¸­æœ€æ–°çš„ç¨³å®šç‰ˆæœ¬ã€‚è¦æ£€æŸ¥æ›´æ–°çš„ç‰ˆæœ¬ï¼Œè¯·è®¿é—®https://maven.google.comã€‚åœ¨com.android.tools.build > gradle ä¸‹ï¼Œæ‚¨å°†æ‰¾åˆ°é€‚ç”¨äº Android çš„ç‰ˆæœ¬ã€‚
android/gradle/wrapper/gradle-wrapper.properties
```
distributionUrl=https\://services.gradle.org/distributions/gradle-7.2-all.zip # Update this line
```
è¿™æ¬¡åœ¨è¿™ä¸¤ä¸ªåœ°æ–¹æ›´æ–° Gradle è§£å†³äº†è¿™ä¸ªé—®é¢˜
FlutteræŠ¥é”™ä¹‹Waiting for another flutter command to release the startup lockè§£å†³æ–¹æ¡ˆ
ä»¥åŠflutter doctorå¡æ­»é—®é¢˜
å…³é—­Android Studio
æ‰“å¼€flutterå®‰è£…ç›®å½•/bin/cache
åˆ é™¤lockfileæ–‡ä»¶
macä¸‹
>killall -9 dart
Windowsä¸‹
>taskkill /F /IM dart.exe

## å­¦ä¹ åœ°å€&å·¥å…·

https://javiercbk.github.io/json_to_dart/  è‡ªåŠ¨ç”Ÿæˆæ¨¡å‹ç±»

http://github.com/drawcall/c2f  cssè½¬flutter

